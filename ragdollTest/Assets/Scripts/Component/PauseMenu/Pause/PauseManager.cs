using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.InputSystem;
using UnityEngine.UI;

//作成者:杉山
//ポーズ時の処理

public partial class PauseManager : MonoBehaviour
{
    [CustomLabel("ポーズ解除ボタン")] [SerializeField]
    Button _resumeButton;

    [Tooltip("内部処理関係")] [SerializeField]
    PauseManager_InternalProcess _internalProcess;

    [Tooltip("UI処理関係")] [SerializeField]
    PauseManager_UI _uiProcess;

    bool _isPausing=false;

    //ポーズ状態の切り替え
    public void SwitchPause(InputAction.CallbackContext context)
    {
        if (!context.performed) return;
        SwitchPauseProcess();
    }

    public void SwitchPause()
    {
        SwitchPauseProcess();
    }


    //private

    private void Awake()
    {
        _resumeButton.onClick.AddListener(SwitchPause);
    }

    private void Start()
    {
        _uiProcess.OnStrat();
        _internalProcess.OnStart();
    }

    void SwitchPauseProcess()//ポーズ状態切り替え
    {
        _isPausing = !_isPausing;

        _internalProcess.OnSwitchPause(_isPausing);
        _uiProcess.OnSwitchPause(_isPausing);
    }

}
